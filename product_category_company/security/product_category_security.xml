<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- Record Rule: Users can only see categories from their allowed companies -->
        <record id="product_category_company_rule" model="ir.rule">
            <field name="name">Product Category: Company Rule</field>
            <field name="model_id" ref="product.model_product_category"/>
            <field name="domain_force">[('company_id', 'in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_user'))]"/>
        </record>
        
        <!-- Record Rule for multi-company users to see all their companies' categories -->
        <record id="product_category_multi_company_rule" model="ir.rule">
            <field name="name">Product Category: Multi-Company Rule</field>
            <field name="model_id" ref="product.model_product_category"/>
            <field name="domain_force">['|', ('company_id', '=', False), ('company_id', 'in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_multi_company'))]"/>
        </record>
    </data>
</odoo>